"use strict";(self.webpackChunkmovie_app=self.webpackChunkmovie_app||[]).push([[89],{89:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var n=s(43),r=s(216),t=s(213),i=s(204),c=s(3),l=s(318),o=s(981),d=s(579);const h=e=>{let{searchQuery:a,onSearchChange:s,onSearch:n}=e;const t=(0,r.Zp)();return(0,d.jsx)("div",{className:"search-bar-container  ",children:(0,d.jsxs)("div",{className:"content",children:[(0,d.jsx)("h2",{children:"Welcome to our movie app "}),(0,d.jsx)("p",{children:"Millions of movie, TV shows and people to discover, Explore now"}),(0,d.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"Search movies...",className:"search-bar"}),(0,d.jsx)("button",{onClick:()=>{a.trim()&&t(`/searchPage?query=${encodeURIComponent(a.trim())}`)},className:"search-button",children:"Search"})]})})};var v=s(316),m=s(990),p=s(238);const x=()=>{const[e,a]=(0,n.useState)([]),[s,x]=(0,n.useState)(""),[g,j]=(0,n.useState)(!0),[u,b]=(0,n.useState)(null),[N,C]=(0,n.useState)(1),[A,k]=(0,n.useState)(1),y=(0,c.d4)((e=>e.watchlist)),f=(0,c.wA)(),S=(0,r.Zp)();(0,n.useEffect)((()=>{(async()=>{try{const e=await t.A.get("https://api.themoviedb.org/3/discover/movie",{params:{api_key:"f43ec82a5f24fe6190891894b7436c7a",page:N}});a(e.data.results),k(e.data.total_pages)}catch(u){b(u.message)}finally{j(!1)}})()}),[N]);const w=e=>y.some((a=>a.id===e.id));return g?(0,d.jsx)("div",{children:"Loading..."}):u?(0,d.jsxs)("div",{children:["Error: ",u]}):(0,d.jsxs)("div",{children:[(0,d.jsx)(o.A,{}),(0,d.jsx)(h,{searchQuery:s,onSearchChange:e=>{x(e)},onSearch:()=>{s.trim()&&S(`/searchPage?query=${encodeURIComponent(s.trim())}`)}}),(0,d.jsx)("div",{className:"movie-list",children:e.length>0?e.map((e=>(0,d.jsxs)("div",{className:"movie-card",onClick:()=>{return a=e.id,void S(`/movie/${a}`);var a},children:[(0,d.jsxs)("div",{className:"movie-poster-container",children:[(0,d.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.title,className:"movie-poster"}),(0,d.jsx)("div",{className:"movie_rating",children:(0,d.jsx)(m.A,{percentage:Math.round(10*e.vote_average)})})]}),(0,d.jsx)("h2",{children:e.title}),(0,d.jsx)("p",{children:(0,p.A)(e.release_date)}),(0,d.jsx)("div",{className:"movie-heart",onClick:a=>{a.stopPropagation(),(e=>{y.some((a=>a.id===e.id))?f((0,l.Qv)(e)):f((0,l.w7)(e))})(e)},children:w(e)?(0,d.jsx)(i.Mbv,{color:"red"}):(0,d.jsx)(i.sOK,{color:"gray"})})]},e.id))):(0,d.jsx)("div",{children:"No movies found"})}),(0,d.jsx)(v.A,{currentPage:N,totalPages:A,onPageChange:e=>{C(e)}})]})}},981:(e,a,s)=>{s.d(a,{A:()=>o});var n=s(475),r=s(204),t=s(3),i=s(477),c=s(43),l=s(579);const o=()=>{const e=(0,t.d4)((e=>e.watchlist)),{language:a,setLanguage:s}=(0,c.useContext)(i.A);return(0,l.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[(0,l.jsx)(n.N_,{className:"navbar-brand",to:"/",children:"Movie App"}),(0,l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[(0,l.jsx)("ul",{className:"navbar-nav",children:(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsxs)(n.N_,{className:"nav-link",to:"/watchlist",children:[(0,l.jsx)(r.Mbv,{color:e.length>0?"red":"gray"})," Watchlist"]})})}),(0,l.jsx)("span",{style:{cursor:"pointer"},className:"p-2 mx-3",onClick:()=>s("en"===a?"ar":"en"),children:a})]})]})}},316:(e,a,s)=>{s.d(a,{A:()=>t});s(43);var n=s(580),r=s(579);const t=e=>{let{currentPage:a,totalPages:s,onPageChange:t}=e;const i=e=>{e>0&&e<=s&&t(e)};return(0,r.jsx)("div",{className:"pagination-container  container",children:(0,r.jsxs)(n.A,{children:[(0,r.jsx)(n.A.Prev,{onClick:()=>i(a-1),disabled:1===a}),[...Array(5).keys()].map(((e,t)=>{const c=t+1;return c<=s&&(0,r.jsx)(n.A.Item,{active:c===a,onClick:()=>i(c),children:c},c)})),s>5&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A.Ellipsis,{}),(0,r.jsx)(n.A.Item,{onClick:()=>i(s),children:s})]}),(0,r.jsx)(n.A.Next,{onClick:()=>i(a+1),disabled:a===s})]})})}}}]);
//# sourceMappingURL=89.5ea9e069.chunk.js.map